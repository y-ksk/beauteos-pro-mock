<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BeauteOS Pro - 美容サロン向けAIサポートシステム</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <script>
    window.tailwind = { 
      theme: { 
        extend: {
          colors: {
            primary: { 
              50:"#eff6ff", 100:"#dbeafe", 200:"#bfdbfe", 300:"#93c5fd", 
              400:"#60a5fa", 500:"#3b82f6", 600:"#2563eb", 700:"#1d4ed8" 
            },
            control:"#dc2626", express:"#f59e0b", analytic:"#2563eb", support:"#059669"
          }
        }
      }
    };
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root { 
      --shadow: 0 1px 2px rgba(0,0,0,.06),0 2px 8px rgba(0,0,0,.06); 
    }
    html,body { height:100%; background:#f8fafc; }
    body { 
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial; 
    }
    .card { 
      background:#fff; border:1px solid #e5e7eb; border-radius:12px; 
      box-shadow: var(--shadow); 
    }
    .navbtn.active { 
      background:#eef2ff; color:#1d4ed8; border-color:#c7d2fe; 
    }
    .badge { 
      border-radius:9999px; padding:.25rem .5rem; 
      font-size:.75rem; font-weight:600; 
    }
    .type-ctrl { background:#fee2e2; color:#b91c1c; } 
    .type-expr { background:#fffbeb; color:#b45309; }
    .type-anal { background:#eff6ff; color:#1d4ed8; } 
    .type-supp { background:#ecfdf5; color:#047857; }
    .progress { 
      height:8px; background:#e5e7eb; border-radius:9999px; overflow:hidden; 
    }
    .progress > div { height:100%; background:#2563eb; transition: width 0.3s ease; }
    .chip { 
      border:1px solid #e5e7eb; border-radius:9999px; 
      padding:.25rem .5rem; font-size:.75rem; 
    }
    .kbd { 
      border:1px solid #e2e8f0; border-bottom-width:3px; 
      padding:.15rem .4rem; border-radius:6px; font-size:.75rem; background:#fff; 
    }
    .meter { height:8px; display:flex; gap:2px; }
    .meter span { 
      flex:1; background:#e5e7eb; border-radius:2px; 
      transition:height .12s; 
    }
    .fade-in { animation: fadeIn 0.3s ease-in; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .slide-in { animation: slideIn 0.3s ease-out; }
    @keyframes slideIn { from { transform: translateX(-20px); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
  </style>
</head>
<body class="text-gray-900">
  <div class="flex h-screen">
    <!-- Sidebar -->
    <aside class="w-[84px] md:w-[280px] border-r border-gray-200 bg-white flex flex-col">
      <div class="px-4 py-4 flex items-center gap-3">
        <div class="w-10 h-10 rounded-xl bg-blue-600 text-white flex items-center justify-center font-extrabold">B</div>
        <div class="hidden md:block">
          <div class="text-sm text-gray-900 font-semibold">BeauteOS Pro</div>
          <div class="text-xs text-gray-400">HPB連携サロンAI</div>
        </div>
      </div>
      <nav class="px-2 md:px-3 pt-2 space-y-2">
        <button data-route="dashboard" class="navbtn active w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">📊</span><span class="hidden md:block">ダッシュボード</span>
        </button>
        <button data-route="schedule" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">🗓️</span><span class="hidden md:block">本日の予約</span>
        </button>
        <button data-route="diagnosis" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">🧭</span><span class="hidden md:block">ソーシャルタイプ診断</span>
        </button>
        <button data-route="recorder" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">🎙️</span><span class="hidden md:block">録音/カルテ化</span>
        </button>
        <button data-route="customers" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">👤</span><span class="hidden md:block">顧客管理</span>
        </button>
        <button data-route="messages" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">💬</span><span class="hidden md:block">メッセージ/クーポン</span>
        </button>
        <button data-route="analytics" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">📈</span><span class="hidden md:block">経営分析</span>
        </button>
        <button data-route="consent" class="navbtn w-full flex items-center gap-3 px-3 py-3 rounded-lg border border-transparent hover:bg-gray-50 transition-colors">
          <span class="w-6 text-center">✅</span><span class="hidden md:block">同意管理</span>
        </button>
      </nav>
      <div class="mt-auto p-3">
        <div class="card p-3 flex items-center gap-3">
          <div class="w-9 h-9 rounded-full bg-gray-100 flex items-center justify-center">🧑‍💼</div>
          <div class="hidden md:block">
            <div class="text-sm font-semibold">佐藤 店長</div>
            <div class="text-xs text-gray-500">恵比寿店</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main -->
    <main class="flex-1 overflow-y-auto">
      <header class="sticky top-0 z-10 bg-white/70 backdrop-blur border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 py-3 flex items-center justify-between">
          <div class="text-lg font-semibold">今日も最高の接客を。</div>
          <div class="flex items-center gap-3 text-sm text-gray-600">
            <span class="hidden md:inline">ショートカット: <span class="kbd">G</span>で検索、<span class="kbd">/</span>でナビ</span>
            <div class="text-xs bg-blue-50 text-blue-700 px-2 py-1 rounded-full">
              2025年9月3日（火）
            </div>
          </div>
        </div>
      </header>

      <div class="max-w-7xl mx-auto p-4 md:p-6 space-y-8">
        <!-- Dashboard -->
        <section data-view="dashboard" class="space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="card p-5 hover:shadow-lg transition-shadow">
              <div class="flex items-center justify-between">
                <div class="text-sm text-gray-500">今月再来率</div>
                <div class="text-emerald-500">📈</div>
              </div>
              <div class="text-3xl font-bold mt-1">78.5%</div>
              <div class="text-emerald-600 text-sm mt-1">+12.3%</div>
              <div class="progress mt-4"><div style="width:78%"></div></div>
            </div>
            <div class="card p-5 hover:shadow-lg transition-shadow">
              <div class="flex items-center justify-between">
                <div class="text-sm text-gray-500">平均客単価</div>
                <div class="text-blue-500">💰</div>
              </div>
              <div class="text-3xl font-bold mt-1">¥8,420</div>
              <div class="text-emerald-600 text-sm mt-1">+5.7%</div>
              <div class="progress mt-4"><div style="width:64%"></div></div>
            </div>
            <div class="card p-5 hover:shadow-lg transition-shadow">
              <div class="flex items-center justify-between">
                <div class="text-sm text-gray-500">失客リスク</div>
                <div class="text-amber-500">⚠️</div>
              </div>
              <div class="text-3xl font-bold mt-1">23名</div>
              <div class="text-amber-600 text-sm mt-1">-8名</div>
              <div class="progress mt-4"><div style="width:40%"></div></div>
            </div>
          </div>

          <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
            <div class="card p-5">
              <div class="flex items-center justify-between mb-4">
                <div class="font-semibold">本日の予約</div>
                <button class="text-sm text-blue-600 hover:underline" data-route-jump="schedule">一覧へ</button>
              </div>
              <div id="todayList" class="space-y-3"></div>
            </div>
            <div class="card p-5">
              <div class="font-semibold mb-2">アラート & AI提案</div>
              <ul class="space-y-2 text-sm">
                <li class="flex items-center gap-2 p-2 bg-amber-50 rounded-lg">
                  <span>⚠️</span> 
                  <span>3ヶ月未来店の顧客が <strong>23名</strong> います。フォローを提案します。</span>
                </li>
                <li class="flex items-center gap-2 p-2 bg-blue-50 rounded-lg">
                  <span>💡</span> 
                  <span>来週の曇天予報で平日集客が弱い見込み。トリートメント10%クーポンを推奨。</span>
                </li>
                <li class="flex items-center gap-2 p-2 bg-green-50 rounded-lg">
                  <span>🎯</span> 
                  <span>表現型顧客の再来率が87%と高水準。SNS投稿をさらに強化しましょう。</span>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- 他のセクション（診断、録音、顧客管理等）のHTMLコードが続く... -->
        <!-- 簡潔性のため、主要部分のみ表示 -->

      </div>
    </main>
  </div>

  <!-- JavaScript部分 -->
  <script>
    // モックデータ定義
    const customers = [
      { 
        id:"c1", name:"田中 さくら", type:"SUPPORT", 
        last:"2025/08/10", cycle:5.0, 
        tags:["ダメージケア","柔らかい印象"], phone:"090-1111-2222" 
      },
      { 
        id:"c2", name:"佐藤 太郎", type:"CONTROL", 
        last:"2025/08/22", cycle:4.0, 
        tags:["時短","ビジネススタイル"], phone:"090-3333-4444" 
      },
      { 
        id:"c3", name:"鈴木 花", type:"EXPRESS", 
        last:"2025/08/28", cycle:6.0, 
        tags:["SNS映え","トレンド"], phone:"080-5555-6666" 
      },
      { 
        id:"c4", name:"高橋 陸", type:"ANALYTIC", 
        last:"2025/07/30", cycle:8.0, 
        tags:["根拠重視","色持ち"], phone:"070-7777-8888" 
      },
    ];

    const typeMeta = {
      CONTROL: { 
        label:"コントロール型", cls:"type-ctrl", color:"#dc2626", icon:"⚡",
        approach:"施術内容を明確に説明し時間を遵守",
        avoid:["曖昧な説明","長い雑談","遅延"],
        conv:['今日はどのようなスタイルにしますか？約1時間で仕上げますがよろしいでしょうか？']
      },
      EXPRESS: { 
        label:"表現型", cls:"type-expr", color:"#f59e0b", icon:"⭐",
        approach:"トレンド情報を提供し積極的に褒める",
        avoid:["地味な提案","流行遅れ","褒めない"],
        conv:['この色すごく素敵ですね！写真映えもバッチリです']
      },
      ANALYTIC: { 
        label:"分析型", cls:"type-anal", color:"#2563eb", icon:"📊",
        approach:"施術の仕組みと根拠を説明",
        avoid:["根拠なし","感覚的説明","急かす"],
        conv:['このカラー剤は○○成分が含まれており、持続性は約4週間です']
      },
      SUPPORT: { 
        label:"サポート型", cls:"type-supp", color:"#059669", icon:"♥",
        approach:"優しく丁寧に安心感を",
        avoid:["急な変化","不安を煽る","冷たい対応"],
        conv:['この色だと柔らかい印象になります。不安なことがあれば何でもどうぞ']
      },
    };

    const today = [
      { time:"10:00", name:"田中 さくら", type:"SUPPORT", menu:"カット/カラー", seat:"A1" },
      { time:"11:30", name:"佐藤 太郎", type:"CONTROL", menu:"カット", seat:"B2" },
      { time:"13:00", name:"鈴木 花", type:"EXPRESS", menu:"カラー", seat:"A2" },
      { time:"15:00", name:"高橋 陸", type:"ANALYTIC", menu:"カット/トリートメント", seat:"C1" },
    ];

    // ルーター機能
    const views = [...document.querySelectorAll("[data-view]")];
    const navs = [...document.querySelectorAll(".navbtn")];
    
    function show(view) {
      views.forEach(v => v.classList.toggle("hidden", v.dataset.view !== view));
      navs.forEach(n => n.classList.toggle("active", n.dataset.route === view));
      window.scrollTo({ top: 0, behavior: "smooth" });
      
      // ページ遷移時のフェードインアニメーション
      const activeView = document.querySelector(`[data-view="${view}"]`);
      if (activeView) {
        activeView.classList.add("fade-in");
        setTimeout(() => activeView.classList.remove("fade-in"), 300);
      }
    }

    navs.forEach(n => n.addEventListener("click", () => show(n.dataset.route)));
    [...document.querySelectorAll("[data-route-jump]")].forEach(b => 
      b.addEventListener("click", () => show(b.dataset.routeJump))
    );

    // 初期表示
    show("dashboard");

    // 今日の予約リスト生成
    const todayList = document.getElementById("todayList");
    today.forEach(t => {
      const meta = typeMeta[t.type];
      const el = document.createElement("div");
      el.className = "flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 transition-colors slide-in";
      el.innerHTML = `
        <div>
          <div class="font-semibold">${t.time} — ${t.name}</div>
          <div class="text-sm text-gray-600">${t.menu} / 席 ${t.seat}</div>
        </div>
        <div class="flex items-center gap-2">
          <span class="badge ${meta.cls}">${meta.icon} ${meta.label}</span>
          <button class="text-xs text-blue-600 hover:underline" onclick="show('diagnosis')">診断</button>
        </div>
      `;
      todayList.appendChild(el);
    });

    // その他のインタラクティブ機能...
    // （診断システム、録音機能、メッセージ作成等のJavaScriptコードが続く）

  </script>
</body>
</html>
